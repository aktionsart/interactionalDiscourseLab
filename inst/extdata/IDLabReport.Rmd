---
title: "Interactional Discourse Lab \n Generated Report"
output: word_document
---

This report is automatically generated by the interactional discourse lab at [http://interactionalDiscourseLab.net](http://interactionalDiscourseLab.net).

Report generated on ``r date()``.
```{r, echo=FALSE}
      # translates text into current language
      tr <- function(text){
        sapply(text,function(s) translation[[s]][["en"]], USE.NAMES = FALSE)
      }
```

# Data summary
- File: ``r filename``
- Unique Speakers:``r paste(sort(unique(filteredData$speaker)))``
- Selected tags: ``r paste(sort(unique(filteredData$tag)))``
- Number of turns: ``r nrow(filteredData)``

# Speakers and tags
## Speaker participation
`r tr("string_SpeakerParticipation")`

```{r, echo=FALSE}
makeSpeakerParticipationGgplot2(countSpeakers)
```

## Tag use
`r tr("string_TagsUsedByEachSpeaker")`

```{r, echo=FALSE}
  makeTagBySpeakerNormalisedGgplot2(proportionTagPerSpeaker)
```

## Speaker by tag
`r tr("string_SpeakersByTag")`

```{r, echo = FALSE}
makeSpeakerByTagNormalisedGgplot2(proportionSpeakerPerTag)
```

# Interactions
`r tr("string_NetworkDescription")`
`r tr("string_ConfidenceInterval")`

*`r tr("string_NetworkNote")`*

## Interactions between tags, for contiguous turns
`r tr("string_TagNetwork")`

```{r, echo=FALSE}
  plotSequence(tagSequences, countTags$n, "Tag types sequences")

  x <- tagSequences %>% addConfidenceIntervals("tag") %>% makeInteractionTable("tag")
  names(x) <- c("",sapply(names(x)[-1], function(s) substring(s,first = 9)))
```

```{r, echo=FALSE, results='asis'}
  knitr::kable(x,row.names=FALSE)
```


## Interactions between speaker, for contiguous turns
`r tr("string_SpeakerNetwork")`

```{r, echo=FALSE}
  plotSequence(speakerSequences, countSpeakers$n, "Contiguous turn takings")
  x <- speakerSequences %>% addConfidenceIntervals("speaker") %>% makeInteractionTable("speaker")
  names(x) <- c("",sapply(names(x)[-1], function(s) substring(s,first = 9)))

```

```{r, echo=FALSE, results='asis'}
  knitr::kable(x,row.names=FALSE)
```

# Timelines
## Simple timeline
`r tr("string_TimelineDescription01")`

`r tr("string_TimelineDescription02")`


```{r, echo=FALSE}
plotTimeline(filteredData)
```

## Linear timeline
`r tr("string_TimelineDescription03")`
`r tr("string_TimelineDescription04")`

```{r, echo=FALSE}
  plotTimeline2(filteredData)
```

